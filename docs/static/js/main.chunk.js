(this["webpackJsonpnixpkgs-db"]=this["webpackJsonpnixpkgs-db"]||[]).push([[0],{39:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(12),c=t.n(r),m=(t(32),t(13)),u=t(49),i=t(48),o=t(41),s=t(42),E=t(43),d=t(44),g=t(45),v=t(51),p=t(46),b=t(53),f=t(50),h=t(47),k=t(52),j=function(e){return l.a.createElement(k.a,{animated:!0,label:e.label,now:100*Math.random(),variant:e.variant,stripped:!0})},x="https://raw.githubusercontent.com/kamadorueda/nixpkgs-db/latest",y="https://github.com/NixOS/nixpkgs",O=t(22),w=t.n(O),K=t(24),N=function(e,a){var t=Object(n.useState)(a),l=Object(m.a)(t,2),r=l[0],c=l[1],u=function(){var a=Object(K.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,a.t0=c,a.next=6,t.json();case 6:a.t1=a.sent,(0,a.t0)(a.t1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),r},C=function(e,a){return e.filter((function(e){return e.includes(a)})).sort()},S=function(e){var a=e.pkg,t="".concat(x,"/data/pkgs/").concat(a,".json"),n=function(e){var a=Object.entries(e);return a.sort((function(e,a){return e[0]<a[0]?1:-1})),a}(N(t,{}));if(0===n.length)return l.a.createElement(u.a,null,l.a.createElement(i.a.Toggle,{as:u.a.Header,variant:"link",eventKey:a},l.a.createElement(j,{label:"Loading...",variant:"info"})));var r,c=n[0][0],m=n[0][1];return l.a.createElement(u.a,null,l.a.createElement(i.a.Toggle,{as:u.a.Header,variant:"link",eventKey:a},l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:3},l.a.createElement("b",null,""===m.meta.homepage?a:l.a.createElement("a",{href:m.meta.homepage,rel:"noopener",target:"blank"},a))),l.a.createElement(s.a,null,m.meta.description),l.a.createElement(s.a,{sm:1},n.length),l.a.createElement(s.a,{sm:2},void 0===(null===(r=m.meta.license)||void 0===r?void 0:r.fullName)?void 0:m.meta.license.fullName))),l.a.createElement(i.a.Collapse,{eventKey:a},l.a.createElement(E.a,null,l.a.createElement(i.a,{defaultActiveKey:"".concat(a," v").concat(c," @ ").concat(m.revs[1])},n.map((function(e){var n=e[0],r=e[1],c="".concat(a," v").concat(n," @ ").concat(r.revs[1]);return l.a.createElement(u.a,null,l.a.createElement(i.a.Toggle,{as:u.a.Header,variant:"link",eventKey:c},l.a.createElement("a",{href:t,rel:"noopener",target:"blank"},l.a.createElement("b",null,a," v",n))),l.a.createElement(i.a.Collapse,{eventKey:c},l.a.createElement(u.a.Body,null,l.a.createElement(u.a.Text,null,l.a.createElement(d.a,{fluid:!0},l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement("code",null,"$ ",l.a.createElement("b",null,"nix-shell")," -p ",a," -I nixpkgs=","".concat(y,"/archive/").concat(r.revs[1],".tar.gz")))),l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement("code",null,"$ ",l.a.createElement("b",null,"nix-env")," -i ",a," -f ","".concat(y,"/archive/").concat(r.revs[1],".tar.gz")))))))))}))))))},A=function(e){var a=e.pkgs,t=e.revs,r=Object(n.useState)(1),c=Object(m.a)(r,2),E=c[0],d=c[1],h=Object(n.useState)(""),k=Object(m.a)(h,2),j=k[0],x=k[1],y=Object(n.useState)(C(a,"")),O=Object(m.a)(y,2),w=O[0],K=O[1],N=Math.min(1+10*(E-1),w.length),A=Math.min(10*E,w.length);return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:6},l.a.createElement(g.a,null,l.a.createElement(g.a.Prepend,null,l.a.createElement(g.a.Text,{id:"pkgName"},"Package name")),l.a.createElement(v.a,{"aria-label":"pkgName","aria-describedby":"pkgName",defaultValue:"",onChange:function(e){x(e.target.value)}}),l.a.createElement(p.a,{onClick:function(){d(1),K(C(a,j))},variant:"outline-primary"},"Search"))),l.a.createElement(s.a,{sm:6},l.a.createElement(b.a,null,l.a.createElement(b.a.Prev,{disabled:1===E,onClick:function(){d(E-1)}}),l.a.createElement(b.a.Item,{disabled:!0},"Showing packages ",N,"-",A," of ",w.length),l.a.createElement(b.a.Next,{disabled:10*E>w.length,onClick:function(){d(E+1)}})))),l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:12},l.a.createElement(i.a,{defaultActiveKey:w[0]},l.a.createElement(u.a,null,l.a.createElement(i.a.Toggle,{as:u.a.Header,variant:"dark"},l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:3},l.a.createElement("b",null,"Attribute")),l.a.createElement(s.a,null,l.a.createElement("b",null,"Description")),l.a.createElement(s.a,{sm:1},l.a.createElement("b",null,"Versions")),l.a.createElement(s.a,{sm:2},l.a.createElement("b",null,"License"))))),w.slice(N-1,A).map((function(e){return l.a.createElement(S,{key:e,pkg:e})}))))),l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:12},l.a.createElement(f.a,{variant:"light"},"A total of ",a.length," packages and ",t.length," commits put in your hands ",l.a.createElement("br",null),"Created and maintained by Kevin Amado"))))},T=function(){var e=N("".concat(x,"/data/pkgs.json"),[]),a=N("".concat(x,"/data/revs.json"),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,null,l.a.createElement(h.a.Brand,null,l.a.createElement("h1",null,"Nixpkgs Database!"),l.a.createElement("h5",null,"A database with packages from all versions, all commits and all channels."))),l.a.createElement(d.a,{fluid:!0},0===e.length?l.a.createElement(j,{label:"Loading...",variant:"info"}):l.a.createElement(A,{pkgs:e,revs:a})))},H=function(){return l.a.createElement(T,null)};c.a.render(l.a.createElement(H,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.chunk.js.map
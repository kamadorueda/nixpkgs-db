(this["webpackJsonpnixpkgs-db"]=this["webpackJsonpnixpkgs-db"]||[]).push([[0],{381:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(29),i=t.n(l),c=(t(55),t(391)),o=t(390),s=t(393),m=t(386),u=t(387),h=t(394),d=t(16),p=t(6),E=t(12),g="https://raw.githubusercontent.com/kamadorueda/nixpkgs-db/latest",b=t(74),f=t.n(b),v=t(392),k=t(385),x={text:function(e){return r.a.createElement("span",null,e.children)},break:function(){return r.a.createElement("br",null)},heading:function(e){return r.a.createElement("h".concat(e.level+1),{},e.children)},code:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(v.a,{language:e.language,style:k.a},e.value),r.a.createElement("hr",null))}},y=function(e){return r.a.createElement(f.a,{children:e.content,renderers:x})},w=function(e){return function(){return r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(y,{content:e})))}},S=t(23),N=t(31),j=t.n(N),O=t(51),C=function(){var e=Object(O.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(e,n){var t=Object(a.useState)(n),r=Object(S.a)(t,2),l=r[0],i=r[1];return Object(a.useEffect)((function(){Object(O.a)(j.a.mark((function n(){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=i,n.next=3,C(e);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}}),n)})))()}),[e]),l},T=t(78),V=t.n(T),L=t(79),$=t.n(L),A=function(e){return r.a.createElement("a",{href:e.href,rel:"noopener",target:"_blank"},void 0===e.children?e.href:e.children)},D=function(e){return r.a.createElement("code",null,"$ ",e.content)},P=t(80),F=t(81),G=t(86),z=t(85),R=function(e){Object(G.a)(t,e);var n=Object(z.a)(t);function t(e){var a;return Object(P.a)(this,t),(a=n.call(this,e)).state={hasError:!1},a}return Object(F.a)(t,[{key:"componentDidCatch",value:function(e,n){}},{key:"render",value:function(){return this.state.hasError?this.props.onError:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),H=t(396),J=function(e){return r.a.createElement(H.a,{animated:!0,label:e.label,now:100*Math.random(),variant:e.variant,stripped:!0})},U=function(e,n){return"/pkg/".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(n))},B=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:2},r.a.createElement("b",null,e.title)),r.a.createElement(u.a,{sm:10},r.a.createElement(R,{onError:"Not specified"},[null,void 0,""].includes(e.content)?"-":e.content))),r.a.createElement("hr",null))},M=function(e){var n,t,a,l,i,c,o,s,h,g=e.data,b=e.dataJSON,f=e.dataSource,v=Object(p.g)(),k=v.pkg,x=v.version;if(void 0===x)return r.a.createElement(p.a,{to:U(k,g[0][0])});var y=b[x],w=g.map((function(e){var n=Object(S.a)(e,2),t=n[0];n[1];return t})),N="".concat("https://github.com/NixOS/nixpkgs","/archive/").concat(null===y||void 0===y?void 0:y.revs[1],".tar.gz"),j="nix-env -i '".concat(k,"' -f '").concat(N,"'"),O="nix-env -i '".concat(k,"' -I 'nixpkgs=").concat(N,"'");return r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(B,{title:"Package",content:k}),r.a.createElement(B,{title:"Name",content:null===y||void 0===y||null===(n=y.meta)||void 0===n?void 0:n.name}),r.a.createElement(B,{title:"Version",content:x}),r.a.createElement(B,{title:"Description",content:null===y||void 0===y||null===(t=y.meta)||void 0===t?void 0:t.description}),r.a.createElement(B,{title:"Long description",content:null===y||void 0===y||null===(a=y.meta)||void 0===a?void 0:a.long_description}),r.a.createElement(B,{title:"Homepage",content:r.a.createElement(A,{href:null===y||void 0===y||null===(l=y.meta)||void 0===l?void 0:l.homepage})}),r.a.createElement(B,{title:"License",content:null===y||void 0===y||null===(i=y.meta)||void 0===i||null===(c=i.license)||void 0===c?void 0:c.fullName}),r.a.createElement(B,{title:"Platforms",content:r.a.createElement(m.a,null,null===y||void 0===y||null===(o=y.meta)||void 0===o||null===(s=o.platforms)||void 0===s||null===(h=s.sort())||void 0===h?void 0:h.map((function(e){return r.a.createElement(u.a,{sm:2},r.a.createElement(E.c,null)," ",e)})))}),r.a.createElement(B,{title:"Interactive shell",content:r.a.createElement(D,{content:O})}),r.a.createElement(B,{title:"Install in your system",content:r.a.createElement(D,{content:j})}),r.a.createElement(B,{title:"Commits range",content:"".concat(null===y||void 0===y?void 0:y.revs[0]," -> ").concat(null===y||void 0===y?void 0:y.revs[1],"\n          ")}),r.a.createElement(B,{title:"Versions",content:r.a.createElement(m.a,null,w.map((function(e){return r.a.createElement(u.a,{sm:2},r.a.createElement(d.b,{to:U(k,e)},r.a.createElement(E.d,null)," ",e))})))}),r.a.createElement(B,{title:"Raw",content:r.a.createElement(A,{href:f})})))},W=function(){var e=Object(p.g)().pkg,n="".concat(g,"/data/pkgs/").concat(e,".json"),t=I(n,{}),a=Object.entries(t).reverse();return 0===a.length?r.a.createElement(J,{label:"Loading...",variant:"info"}):r.a.createElement(M,{data:a,dataJSON:t,dataSource:n})},q=t(388),K=t(395),_=t(389),Q=t(397),X=function(e,n){return e.filter((function(e){return e.includes(n)})).sort()},Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(J,{label:"Loading...",variant:"info"}))),r.a.createElement("hr",null))},Z=function(e){var n=e.data,t=e.pkg,a=e.data[0][1],l="/pkg/".concat(encodeURIComponent(t));return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:3},r.a.createElement(d.b,{to:l},r.a.createElement(E.d,null)," ",t)),r.a.createElement(u.a,{sm:3},a.meta.name),r.a.createElement(u.a,{sm:5},a.meta.description),r.a.createElement(u.a,{sm:1},n.length)),r.a.createElement("hr",null))},ee=function(e){var n=e.pkg,t="".concat(g,"/data/pkgs/").concat(n,".json"),a=I(t,{}),l=Object.entries(a).reverse();return 0===l.length?r.a.createElement(Y,null):r.a.createElement(Z,{data:l,pkg:n})},ne=function(e){var n=e.pkgs,t=Object(a.useState)(1),l=Object(S.a)(t,2),i=l[0],c=l[1],o=Object(a.useState)(""),s=Object(S.a)(o,2),h=s[0],d=s[1],p=Object(a.useState)(X(n,"")),E=Object(S.a)(p,2),g=E[0],b=E[1],f=Math.min(1+10*(i-1),g.length),v=Math.min(10*i,g.length),k=g.slice(f-1,v);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:6},r.a.createElement(q.a,null,r.a.createElement(q.a.Prepend,null,r.a.createElement(q.a.Text,{id:"pkgName"},"Package name")),r.a.createElement(K.a,{"aria-label":"pkgName","aria-describedby":"pkgName",onChange:function(e){d(e.target.value)}}),r.a.createElement(_.a,{onClick:function(){c(1),b(X(n,h))},variant:"outline-primary"},"Search"))),r.a.createElement(u.a,{sm:6},r.a.createElement(Q.a,null,r.a.createElement(Q.a.Prev,{disabled:1===i,onClick:function(){c(i-1)}}),r.a.createElement(Q.a.Item,{disabled:!0},"Showing packages ",f,"-",v," of ",g.length),r.a.createElement(Q.a.Next,{disabled:10*i>g.length,onClick:function(){c(i+1)}})))),r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement("hr",null),r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:3},r.a.createElement("b",null,"Attribute")),r.a.createElement(u.a,{sm:3},r.a.createElement("b",null,"Name")),r.a.createElement(u.a,{sm:5},r.a.createElement("b",null,"Description")),r.a.createElement(u.a,{sm:1},r.a.createElement("b",null,"Versions"))),r.a.createElement("hr",null),k.map((function(e){return r.a.createElement(ee,{pkg:e})})))))},te=function(e){return 0===e.pkgs.length?r.a.createElement(J,{label:"Loading...",variant:"info"}):r.a.createElement(ne,{pkgs:e.pkgs,revs:e.revs})},ae=function(e){return r.a.createElement(c.a.Item,null,r.a.createElement(c.a.Link,{href:e.href},e.children))},re=function(){var e=I("".concat(g,"/data/pkgs.json"),[]),n=I("".concat(g,"/data/revs.json"),[]);return r.a.createElement(o.a,{fluid:!0},r.a.createElement(s.a,null,r.a.createElement(s.a.Brand,null,r.a.createElement("h1",null,"Nixpkgs Database!"),r.a.createElement("h5",null,"A database with packages from all versions, all commits and all channels."))),r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(c.a,{variant:"tabs"},r.a.createElement(ae,null,r.a.createElement(d.b,{to:"/about"},r.a.createElement(E.f,null)," About")),r.a.createElement(ae,null,r.a.createElement(d.b,{to:"/contributing"},r.a.createElement(E.a,null)," Contributing")),r.a.createElement(ae,null,r.a.createElement(d.b,{to:"/search"},r.a.createElement(E.g,null)," Search")),r.a.createElement(ae,{href:"https://github.com/kamadorueda/nixpkgs-db"},r.a.createElement(E.b,null)," Source"),r.a.createElement(ae,{href:"https://www.patreon.com/kamadorueda"},r.a.createElement(E.e,null)," Sponsor")))),r.a.createElement("br",null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/about"},w(V.a)),r.a.createElement(p.b,{exact:!0,path:"/contributing"},w($.a)),r.a.createElement(p.b,{exact:!0,path:"/pkg/:pkg"},r.a.createElement(W,null)),r.a.createElement(p.b,{exact:!0,path:"/pkg/:pkg/:version"},r.a.createElement(W,null)),r.a.createElement(p.b,{exact:!0,path:"/search"},r.a.createElement(te,{pkgs:e,revs:n})),r.a.createElement(p.a,{to:"/search"}))),r.a.createElement("hr",null),r.a.createElement(m.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(h.a,{variant:"light"},"A total of ",e.length," packages and ",n.length," commits put in your hands ",r.a.createElement("br",null),"Created and maintained by Kevin Amado"))))};i.a.render(r.a.createElement(re,null),document.getElementById("root"))},78:function(e,n){e.exports='One of the advantages of **Nix** is the ability to install / use packages in\n**isolated environments** from the host system:\n\n```bash\n# Version installed in my host system\n$ python3 --version\n\n  Python 3.8.5\n\n# Launch a Nix Shell with a different version of the package\n$ nix-shell -p python39\n\n  # Version installed in the Nix shell\n  nix-shell $ python3 --version\n\n    Python 3.9.0\n```\n\nSometime ago while migrating an old **Kubernetes** cluster\nI found in the need of having two different versions of **Helm**\nin order to deal with **legacy** and **recent** deployments.\n\nThe solution is trivial: Use **Nix** to install the two versions!\n\nSo let\'s search the versions that Nix offers to us:\n\n```bash\n# Query the <nixpkgs> set in the host system\n$ nix-env -q --available --description | grep helm\n\n  helm-3.3.4  A package manager for kubernetes\n```\n\nProblem is that nix-channels usually offer a single version of a package,\nso \xbfWhat to do?\n\nSadly,\nthere is no native way of searching the Nix history for all versions of a package.\n\nGood thing is the community has come up with initiatives:\n\n- [Nixpkgs Database](/nixpkgs-db)\n- [Nix-package-revisions](https://lazamar.github.io/download-specific-package-version-with-nix)\n\nThat index the Nixpkgs history in order to provide versions lookups:\n\n```bash\nAttribute        Description                       Versions  License\nkubernetes-helm  A package manager for kubernetes  30        Apache License 2.0\n\n  kubernetes-helm v3.4.0\n  kubernetes-helm v3.1.1\n  kubernetes-helm v3.1.0\n  kubernetes-helm v3.0.3\n  kubernetes-helm v3.0.1\n  kubernetes-helm v2.9.1\n  kubernetes-helm v2.6.1\n  ...\n```\n\nThey even give you the command to install the package in your system!\n\n```bash\n# Helm is not even installed in my host system\n$ helm version\n\n  Command \'helm\' not found\n\n# Launch a Nix Shell with version 3.4.0 found in Nixpkgs Database\n$ nix-shell -p kubernetes-helm -I nixpkgs=https://github.com/NixOS/nixpkgs/archive/0126c86672b7d14843225df16ddfefd7091eabe7.tar.gz\n\n  # Version installed in the Nix shell\n  nix-shell $ helm version\n\n    version.BuildInfo{Version:"v3.4.0", GitCommit:"", GitTreeState:"", GoVersion:"go1.15.3"}\n\n# Launch a Nix Shell with version 2.6.1 found in Nixpkgs Database\n$ nix-shell -p kubernetes-helm -I nixpkgs=https://github.com/NixOS/nixpkgs/archive/01a664e7793158b434fefac9217ec48313b2dd45.tar.gz\n\n  # Version installed in the Nix shell\n  nix-shell $ helm version\n\n    Client: &version.Version{SemVer:"v2.6.1", GitCommit:"bbc1f71dc03afc5f00c6ac84b9308f8ecb4f39ac", GitTreeState:"clean"}\n```\n\nThis project is entirely **Open Source**!\n\nWe welcome [contributions](/nixpkgs-db/#/contributing) :)\n'},79:function(e,n){e.exports="This site is run by the effort of the community,\nyou can be part of it!\n\nWe genuinely appreciate people who are trying to improve this database.\n\n**Contributing examples**\n\nThere are many ways to contribute, not necessarily technical:\n\n- Tell other people of the work being done here.\n- [Sponsor](https://patreon.com/kamadorueda) the project.\n- Star or fork the [repository](https://github.com/kamadorueda/nixpkgs-db) so other people can find us easier.\n- The search engine is naive (currently a `String.contains`).\n  It would be awesome to use a modern algorithm.\n- Expanding the database size:\n\n  There are currently 280k+ commits in the nixpkgs repository,\n  we've only processed ~10k.\n\n  Expanding it is simple, though it consumes a little bit of machine resources:\n\n  - Clone the nixpkgs-db repository.\n  - Execute: `$ nixpkgs-db/build/sync.sh`\n  - Commit your `nixpkgs-db/data/` folder and create a PR.\n\n  The process is differential, once a commit is processed it's ignored in future\n  executions.\n- Help us improve the user interface.\n- Fire up an issue! we welcome ideas, feature requests and problems.\n"}},[[381,1,2]]]);
//# sourceMappingURL=main.chunk.js.map
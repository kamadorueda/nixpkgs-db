(this["webpackJsonpnixpkgs-db"]=this["webpackJsonpnixpkgs-db"]||[]).push([[0],{39:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(12),c=t.n(r),m=(t(32),t(13)),i=t(49),u=t(48),o=t(41),s=t(42),E=t(43),v=t(44),g=t(45),d=t(51),p=t(46),f=t(53),b=t(50),h=t(47),k=t(52),j=function(e){return l.a.createElement(k.a,{animated:!0,label:e.label,now:100*Math.random(),variant:e.variant,stripped:!0})},x="https://raw.githubusercontent.com/kamadorueda/nixpkgs-db/latest",y="https://github.com/NixOS/nixpkgs",O=t(22),w=t.n(O),K=t(24),N=function(e,a){var t=Object(n.useState)(a),l=Object(m.a)(t,2),r=l[0],c=l[1],i=function(){var a=Object(K.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,a.t0=c,a.next=6,t.json();case 6:a.t1=a.sent,(0,a.t0)(a.t1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),r},C="awscli",M=function(e,a){return e.filter((function(e){return e.includes(a)})).sort()},S=function(e){var a=e.pkg,t="".concat(x,"/data/pkgs/").concat(a,".json"),n=function(e){var a=Object.values(e);return(a=a.map((function(e){return{meta:e.meta,rev:(a=e.revs,a[Math.floor(Math.random()*a.length)])};var a}))).sort((function(e,a){return e.meta.version<a.meta.version?1:-1})),a}(N(t,{}));if(0===n.length)return l.a.createElement(i.a,null,l.a.createElement(u.a.Toggle,{as:i.a.Header,variant:"link",eventKey:a},l.a.createElement(j,{label:"Loading...",variant:"info"})));var r,c=n[0];return l.a.createElement(i.a,null,l.a.createElement(u.a.Toggle,{as:i.a.Header,variant:"link",eventKey:a},l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:3},l.a.createElement("b",null,""===c.meta.homepage?a:l.a.createElement("a",{href:c.meta.homepage,rel:"noopener",target:"blank"},a))),l.a.createElement(s.a,null,c.meta.description),l.a.createElement(s.a,{sm:1},n.length),l.a.createElement(s.a,{sm:2},void 0===(null===(r=c.meta.license)||void 0===r?void 0:r.fullName)?void 0:c.meta.license.fullName))),l.a.createElement(u.a.Collapse,{eventKey:a},l.a.createElement(E.a,null,l.a.createElement(u.a,{defaultActiveKey:"".concat(a," v").concat(c.meta.version," @ ").concat(c.rev)},n.map((function(e){var n="".concat(a," v").concat(e.meta.version," @ ").concat(e.rev);return l.a.createElement(i.a,null,l.a.createElement(u.a.Toggle,{as:i.a.Header,variant:"link",eventKey:n},l.a.createElement("a",{href:t,rel:"noopener",target:"blank"},l.a.createElement("b",null,a," v",e.meta.version))),l.a.createElement(u.a.Collapse,{eventKey:n},l.a.createElement(i.a.Body,null,l.a.createElement(i.a.Text,null,l.a.createElement(v.a,{fluid:!0},l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement("code",null,"$ ",l.a.createElement("b",null,"nix-shell")," -p ",a," -I nixpkgs=","".concat(y,"/archive/").concat(e.rev,".tar.gz")))),l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement("code",null,"$ ",l.a.createElement("b",null,"nix-env")," -i ",a," -f ","".concat(y,"/archive/").concat(e.rev,".tar.gz")))))))))}))))))},T=function(e){var a=e.pkgs,t=e.revs,r=Object(n.useState)(1),c=Object(m.a)(r,2),E=c[0],v=c[1],h=Object(n.useState)(C),k=Object(m.a)(h,2),j=k[0],x=k[1],y=Object(n.useState)(M(a,C)),O=Object(m.a)(y,2),w=O[0],K=O[1],N=Math.min(1+10*(E-1),w.length),T=Math.min(10*E,w.length);return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:6},l.a.createElement(g.a,null,l.a.createElement(g.a.Prepend,null,l.a.createElement(g.a.Text,{id:"pkgName"},"Package name")),l.a.createElement(d.a,{"aria-label":"pkgName","aria-describedby":"pkgName",defaultValue:C,onChange:function(e){x(e.target.value)}}),l.a.createElement(p.a,{onClick:function(){v(1),K(M(a,j))},variant:"outline-primary"},"Search"))),l.a.createElement(s.a,{sm:6},l.a.createElement(f.a,null,l.a.createElement(f.a.Prev,{disabled:1===E,onClick:function(){v(E-1)}}),l.a.createElement(f.a.Item,{disabled:!0},"Page ",E,", results ",N," to ",T),l.a.createElement(f.a.Next,{disabled:10*E>w.length,onClick:function(){v(E+1)}})))),l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:4},l.a.createElement(b.a,{variant:"light"},"Matching packages: ",w.length," in ",t.length," commits"))),l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:12},l.a.createElement(u.a,{defaultActiveKey:w[0]},l.a.createElement(i.a,null,l.a.createElement(u.a.Toggle,{as:i.a.Header,variant:"dark"},l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:3},l.a.createElement("b",null,"Attribute")),l.a.createElement(s.a,null,l.a.createElement("b",null,"Description")),l.a.createElement(s.a,{sm:1},l.a.createElement("b",null,"Versions")),l.a.createElement(s.a,{sm:2},l.a.createElement("b",null,"License"))))),w.slice(N-1,T).map((function(e){return l.a.createElement(S,{key:e,pkg:e})}))))),l.a.createElement(o.a,null,l.a.createElement(s.a,{sm:4},l.a.createElement(b.a,{variant:"light"},"Copyright 2020, Kevin Amado ",l.a.createElement("br",null)))))},A=function(){var e=N("".concat(x,"/data/pkgs.json"),[]),a=N("".concat(x,"/data/revs.json"),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,null,l.a.createElement(h.a.Brand,null,l.a.createElement("h1",null,"Nix Packages Database!"),l.a.createElement("h5",null,"A database with packages from all versions, all commits and all channels."))),l.a.createElement(v.a,{fluid:!0},0===e.length?l.a.createElement(j,{label:"Loading...",variant:"info"}):l.a.createElement(T,{pkgs:e,revs:a})))},P=function(){return l.a.createElement(A,null)};c.a.render(l.a.createElement(P,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.chunk.js.map
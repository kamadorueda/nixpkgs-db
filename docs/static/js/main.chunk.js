(this["webpackJsonpnixpkgs-db"]=this["webpackJsonpnixpkgs-db"]||[]).push([[0],{53:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(18),c=t.n(r),m=t(63),u=t(58),i=t(55),o=t(56),s=t(61),E=t(22),g=t(5),d=(t(45),t(19)),b=t(68),p=t(62),v=t(57),f=t(59),h=t(64),k=t(60),x=t(67),j=t(65),y=t(66),O=function(e){return l.a.createElement(y.a,{animated:!0,label:e.label,now:100*Math.random(),variant:e.variant,stripped:!0})},w="https://raw.githubusercontent.com/kamadorueda/nixpkgs-db/latest",C="https://github.com/NixOS/nixpkgs",K=t(29),N=t.n(K),S=t(37),A=function(e,a){var t=Object(n.useState)(a),l=Object(d.a)(t,2),r=l[0],c=l[1],m=function(){var a=Object(S.a)(N.a.mark((function a(){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,a.t0=c,a.next=6,t.json();case 6:a.t1=a.sent,(0,a.t0)(a.t1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){m()}),[]),r},I=function(e,a){return e.filter((function(e){return e.includes(a)})).sort()},L=function(e){var a=e.pkg,t="".concat(w,"/data/pkgs/").concat(a,".json"),n=function(e){var a=Object.entries(e);return a.sort((function(e,a){return e[0]<a[0]?1:-1})),a}(A(t,{}));if(0===n.length)return l.a.createElement(b.a,null,l.a.createElement(p.a.Toggle,{as:b.a.Header,variant:"link",eventKey:a},l.a.createElement(O,{label:"Loading...",variant:"info"})));var r,c=n[0][0],m=n[0][1];return l.a.createElement(b.a,null,l.a.createElement(p.a.Toggle,{as:b.a.Header,variant:"link",eventKey:a},l.a.createElement(i.a,null,l.a.createElement(o.a,{sm:3},l.a.createElement("b",null,""===m.meta.homepage?a:l.a.createElement("a",{href:m.meta.homepage,rel:"noopener",target:"blank"},a))),l.a.createElement(o.a,null,m.meta.description),l.a.createElement(o.a,{sm:1},n.length),l.a.createElement(o.a,{sm:2},void 0===(null===(r=m.meta.license)||void 0===r?void 0:r.fullName)?void 0:m.meta.license.fullName))),l.a.createElement(p.a.Collapse,{eventKey:a},l.a.createElement(v.a,null,l.a.createElement(p.a,{defaultActiveKey:"".concat(a," v").concat(c," @ ").concat(m.revs[1])},n.map((function(e){var n=e[0],r=e[1],c="".concat(a," v").concat(n," @ ").concat(r.revs[1]);return l.a.createElement(b.a,null,l.a.createElement(p.a.Toggle,{as:b.a.Header,variant:"link",eventKey:c},l.a.createElement("a",{href:t,rel:"noopener",target:"blank"},l.a.createElement("b",null,a," v",n))),l.a.createElement(p.a.Collapse,{eventKey:c},l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Text,null,l.a.createElement(u.a,{fluid:!0},l.a.createElement(i.a,null,l.a.createElement(o.a,null,l.a.createElement("code",null,"$ ",l.a.createElement("b",null,"nix-shell")," -p ",a," -I nixpkgs=","".concat(C,"/archive/").concat(r.revs[1],".tar.gz")))),l.a.createElement(i.a,null,l.a.createElement(o.a,null,l.a.createElement("code",null,"$ ",l.a.createElement("b",null,"nix-env")," -i ",a," -f ","".concat(C,"/archive/").concat(r.revs[1],".tar.gz")))))))))}))))))},T=function(e){var a=e.pkgs,t=e.revs,r=Object(n.useState)(1),c=Object(d.a)(r,2),m=c[0],u=c[1],s=Object(n.useState)(""),E=Object(d.a)(s,2),g=E[0],v=E[1],y=Object(n.useState)(I(a,"")),O=Object(d.a)(y,2),w=O[0],C=O[1],K=Math.min(1+10*(m-1),w.length),N=Math.min(10*m,w.length);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,null,l.a.createElement(o.a,{sm:6},l.a.createElement(f.a,null,l.a.createElement(f.a.Prepend,null,l.a.createElement(f.a.Text,{id:"pkgName"},"Package name")),l.a.createElement(h.a,{"aria-label":"pkgName","aria-describedby":"pkgName",defaultValue:"",onChange:function(e){v(e.target.value)}}),l.a.createElement(k.a,{onClick:function(){u(1),C(I(a,g))},variant:"outline-primary"},"Search"))),l.a.createElement(o.a,{sm:6},l.a.createElement(x.a,null,l.a.createElement(x.a.Prev,{disabled:1===m,onClick:function(){u(m-1)}}),l.a.createElement(x.a.Item,{disabled:!0},"Showing packages ",K,"-",N," of ",w.length),l.a.createElement(x.a.Next,{disabled:10*m>w.length,onClick:function(){u(m+1)}})))),l.a.createElement(i.a,null,l.a.createElement(o.a,{sm:12},l.a.createElement(p.a,{defaultActiveKey:w[0]},l.a.createElement(b.a,null,l.a.createElement(p.a.Toggle,{as:b.a.Header,variant:"dark"},l.a.createElement(i.a,null,l.a.createElement(o.a,{sm:3},l.a.createElement("b",null,"Attribute")),l.a.createElement(o.a,null,l.a.createElement("b",null,"Description")),l.a.createElement(o.a,{sm:1},l.a.createElement("b",null,"Versions")),l.a.createElement(o.a,{sm:2},l.a.createElement("b",null,"License"))))),w.slice(K-1,N).map((function(e){return l.a.createElement(L,{key:e,pkg:e})}))))),l.a.createElement(i.a,null,l.a.createElement(o.a,{sm:12},l.a.createElement(j.a,{variant:"light"},"A total of ",a.length," packages and ",t.length," commits put in your hands ",l.a.createElement("br",null),"Created and maintained by Kevin Amado"))))},H=function(){var e=A("".concat(w,"/data/pkgs.json"),[]),a=A("".concat(w,"/data/revs.json"),[]);return l.a.createElement(l.a.Fragment,null,0===e.length?l.a.createElement(O,{label:"Loading...",variant:"info"}):l.a.createElement(T,{pkgs:e,revs:a}))},B=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,null,l.a.createElement(m.a,null,l.a.createElement(m.a.Brand,null,l.a.createElement("h1",null,"Nixpkgs Database!"),l.a.createElement("h5",null,"A database with packages from all versions, all commits and all channels."))),l.a.createElement(u.a,{fluid:!0},l.a.createElement(i.a,null,l.a.createElement(o.a,{sm:12},l.a.createElement(s.a,{variant:"tabs"},l.a.createElement(s.a.Item,null,l.a.createElement(s.a.Link,null,l.a.createElement(E.b,{to:"/"},"Search"))),l.a.createElement(s.a.Item,null,l.a.createElement(s.a.Link,null,l.a.createElement(E.b,{to:"/about"},"About"))),l.a.createElement(s.a.Item,null,l.a.createElement(s.a.Link,null,l.a.createElement(E.b,{to:"/contributing"},"Contributing")))))),l.a.createElement("br",null),l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/",component:H}),l.a.createElement(g.a,{exact:!0,path:"/about"},"..."),l.a.createElement(g.a,{exact:!0,path:"/contributing"},"...")))))};c.a.render(l.a.createElement(B,null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.chunk.js.map
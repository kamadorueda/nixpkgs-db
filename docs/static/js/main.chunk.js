(this["webpackJsonpnixpkgs-db"]=this["webpackJsonpnixpkgs-db"]||[]).push([[0],{414:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(73),o=n.n(l),c=(n(53),n(423)),i=n(422),s=n(417),u=n(85),m=n(13),h=n(6),p=n(9),d=n(74),g=n.n(d),b=n(75),E=n.n(b),f=n(76),v=n.n(f),k=n(77),x=n.n(k),y="https://raw.githubusercontent.com/kamadorueda/nixpkgs-db/latest",w=function(e){var t={href:e.href};return(void 0===e.remote||e.remote)&&(t.rel="noopener",t.target="_blank"),r.a.createElement("a",t,void 0===e.children?e.href:e.children)},S=n(78),O=n.n(S),C=n(79),j=n.n(C),N=n(47),T=n.n(N),P=n(425),L=n(80),F=n(84),I=function(){return alert("Copied!")},V=function(e){var t,n=T()(e.content),a={color:"#007bff"},l=e.type;switch(l){case"icon":t=r.a.createElement("span",{style:a},r.a.createElement(p.e,null));break;case"icon+copy":t=r.a.createElement("span",{style:a},r.a.createElement(p.e,null)," Copy");break;case"icon+copy+center":t=r.a.createElement("center",{style:a},r.a.createElement(p.e,null)," Copy");break;default:throw l}return r.a.createElement(L.CopyToClipboard,{onCopy:I,text:n},t)},A=function(e){var t=e.content,n=e.lang;return r.a.createElement(P.a,{language:n,style:F.a},t)},$=function(e){var t=e.content,n=e.copyable,a=void 0!==n&&n,l=e.lang;return t=T()(t),r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{content:t,lang:l}),a?r.a.createElement(V,{content:t,type:"icon+copy+center"}):void 0)},z=function(e){var t=e.content,n=e.copyable,a=e.lang;return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement($,{content:t,copyable:n,lang:a}),r.a.createElement("hr",null))},D={text:function(e){return r.a.createElement("span",null,e.children)},break:function(){return r.a.createElement("br",null)},heading:function(e){return r.a.createElement("h".concat(e.level+1),{},e.children)},code:function(e){return r.a.createElement(z,{lang:e.language,content:e.value})}},R=function(e){return r.a.createElement(O.a,{children:e.content,plugins:[j.a],renderers:D})},G=function(e){return function(){return r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(R,{content:e})))}},H=n(15),U=n(27),M=n.n(U),B=n(48),J=function(){var e=Object(B.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:n=e.sent;case 3:if(n.ok&&200===n.status){e.next=9;break}return e.next=6,fetch(t);case 6:n=e.sent,e.next=3;break;case 9:return e.next=11,n.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e,t){var n=Object(a.useState)(t),r=Object(H.a)(n,2),l=r[0],o=r[1];return Object(a.useEffect)((function(){Object(B.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.next=3,J(e);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})))()}),[e]),l},W=n(49),Y=n(86),_=n(87),K=n(92),Q=n(91),X=function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(e){var a;return Object(Y.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(_.a)(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?this.props.onError:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component),Z=n(426),ee=function(e){return r.a.createElement(Z.a,{animated:!0,label:e.label,now:100*Math.random(),variant:e.variant,striped:!0})},te=n(418),ne=n(424),ae=["blue","blueviolet","brightgreen","green","lightgrey","orange","red","yellow","yellowgreen"],re=["flat","flat-square","for-the-badge","plastic"],le={AsciiDoc:function(e,t){return"\n    image:".concat(e,'[link="').concat(t,'"]\n  ')},HTML:function(e,t){return'\n    <a href="'.concat(t,'">\n      <img src="').concat(e,'">\n    </a>\n  ')},Markdown:function(e,t){return"\n    [![](".concat(e,")](").concat(t,")\n  ")},ReStructuredText:function(e,t){return"\n    .. image:: ".concat(e,"\n      :target: ").concat(t,"\n  ")}},oe=Object.keys(le),ce=function(){var e=Object(h.g)().pkg,t=Object(a.useState)(oe[2]),n=Object(H.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(e),i=Object(H.a)(c,2),m=i[0],p=i[1],d=function(e){return"https://kamadorueda.github.io/nixpkgs-db/#/pkg/".concat(encodeURIComponent(e))}(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,null,r.a.createElement(te.a.Prepend,null,r.a.createElement(te.a.Text,null,"Copy Format")),r.a.createElement(ne.a.Control,{as:"select",value:l,onChange:function(e){o(e.target.value)}},oe.map((function(e){return r.a.createElement("option",{id:e},e)})))),r.a.createElement("br",null),r.a.createElement(te.a,null,r.a.createElement(te.a.Prepend,null,r.a.createElement(te.a.Text,null,"Custom label")),r.a.createElement(ne.a.Control,{defaultValue:e,onChange:function(e){p(e.target.value)},value:m})),r.a.createElement("br",null),re.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,ae.map((function(n){var a=function(e){var t=e.color,n=void 0===t?"green":t,a=e.label,r=e.labelColor,l=void 0===r?"grey":r,o=e.logo,c=void 0===o?"NixOS":o,i=e.logoColor,s=void 0===i?"white":i,u=e.pkg,m=e.style,h=void 0===m?"flat":m,p=new URL("https://img.shields.io/endpoint");return p.searchParams.set("color",n),p.searchParams.set("label",void 0===a?u:a),p.searchParams.set("labelColor",l),p.searchParams.set("logo",c),p.searchParams.set("logoColor",s),p.searchParams.set("style",h),p.searchParams.set("url","https://raw.githubusercontent.com/kamadorueda/nixpkgs-db/latest/data/badges/".concat(u,".json")),p.toString()}({color:n,label:m,pkg:e,style:t}),o=le[l](a,d);return r.a.createElement(u.a,{xs:12,sm:6,md:4},r.a.createElement(s.a,null,r.a.createElement(u.a,{xs:12},r.a.createElement(V,{content:o,type:"icon"})," ",r.a.createElement(w,{href:d},r.a.createElement("img",{alt:"badge",src:a})))))}))),r.a.createElement("br",null))})))},ie=function(e,t){return"/pkg/".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t))},se=function(e){var t=[];if(void 0===e)return t;var n,a=Object(W.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;switch(typeof r){case"string":t.push(r);break;case"object":t.push("".concat(r.name," <").concat(r.email,">"))}}}catch(l){a.e(l)}finally{a.f()}return t.sort()},ue=function(e){var t=[];if([null,void 0].includes(e))return t;var n,a=Object(W.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;switch(typeof r){case"string":t.push(r)}}}catch(l){a.e(l)}finally{a.f()}return t.sort()},me=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:2},r.a.createElement("b",null,e.title)),r.a.createElement(u.a,{sm:10},r.a.createElement(X,{onError:"Not specified"},[null,void 0,""].includes(e.content)?"-":e.content))),r.a.createElement("hr",null))},he=function(e){var t,n,a,l,o,c,i,m,d,g=e.data,b=e.dataJSON,E=e.dataSource,f=Object(h.g)(),v=f.pkg,k=f.version;if(void 0===k)return r.a.createElement(h.a,{to:ie(v,g[0][0])});var x=b[k],y=null===x||void 0===x?void 0:x.revs[1],S=g.map((function(e){var t=Object(H.a)(e,2),n=t[0];t[1];return n})),O="".concat("https://github.com/NixOS/nixpkgs","/archive/").concat(y,".tar.gz"),C="\n    # Version: ".concat(k,"\n    nix-env -i ").concat(v," -f ").concat(O,"\n  "),j="\n    # Version: ".concat(k,"\n    nix-env -i ").concat(v," -I nixpkgs=").concat(O,"\n  "),N="\n    let\n      pkgs = import <nixpkgs> { };\n\n      # Version: ".concat(k,"\n      ").concat(v,' = (import (pkgs.fetchzip {\n        url = "https://github.com/nixos/nixpkgs/archive/').concat(y,'.zip";\n        # Please update this hash with the one nix says on the first build attempt\n        sha256 = "0000000000000000000000000000000000000000000000000000000000000000";\n      }) { }).').concat(v,";\n    in\n      ...\n  "),T=void 0===(null===x||void 0===x||null===(t=x.meta)||void 0===t?void 0:t.name)?"":"(".concat(null===x||void 0===x||null===(n=x.meta)||void 0===n?void 0:n.name,")");return r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(me,{title:"Package",content:"".concat(v," ").concat(T)}),r.a.createElement(me,{title:"This page version",content:r.a.createElement(w,{href:"/nixpkgs-db/#".concat(ie(v,k))},r.a.createElement(p.d,null)," ",k)}),r.a.createElement(me,{title:"All versions",content:r.a.createElement(s.a,null,S.map((function(e){return r.a.createElement(u.a,{xs:12,sm:6,md:3},r.a.createElement(w,{href:"/nixpkgs-db/#".concat(ie(v,e))},r.a.createElement(p.d,null)," ",e))})))}),r.a.createElement(me,{title:"Description",content:null===x||void 0===x||null===(a=x.meta)||void 0===a?void 0:a.description}),r.a.createElement(me,{title:"Long description",content:null===x||void 0===x||null===(l=x.meta)||void 0===l?void 0:l.long_description}),r.a.createElement(me,{title:"Homepage",content:r.a.createElement(w,{href:null===x||void 0===x||null===(o=x.meta)||void 0===o?void 0:o.homepage})}),r.a.createElement(me,{title:"License",content:null===x||void 0===x||null===(c=x.meta)||void 0===c||null===(i=c.license)||void 0===i?void 0:i.fullName}),r.a.createElement(me,{title:"Maintainers",content:r.a.createElement(s.a,null,se(null===x||void 0===x||null===(m=x.meta)||void 0===m?void 0:m.maintainers).map((function(e){return r.a.createElement(u.a,{sm:6}," ",r.a.createElement(p.i,null)," ",e)})))}),r.a.createElement(me,{title:"Interactive shell",content:r.a.createElement($,{content:j,copyable:!0,lang:"bash"})}),r.a.createElement(me,{title:"Install in your system",content:r.a.createElement($,{content:C,copyable:!0,lang:"bash"})}),r.a.createElement(me,{title:"Use in an expression",content:r.a.createElement($,{content:N,copyable:!0,lang:"nix"})}),r.a.createElement(me,{title:"Badges",content:r.a.createElement(ce,{pkg:v})}),r.a.createElement(me,{title:"Commits range",content:"".concat(null===x||void 0===x?void 0:x.revs[0]," -> ").concat(null===x||void 0===x?void 0:x.revs[1],"\n          ")}),r.a.createElement(me,{title:"Raw data",content:r.a.createElement(w,{href:E})}),r.a.createElement(me,{title:"Available platforms",content:r.a.createElement(s.a,null,ue(null===x||void 0===x||null===(d=x.meta)||void 0===d?void 0:d.platforms).map((function(e){return r.a.createElement(u.a,{sm:2}," ",r.a.createElement(p.c,null)," ",e)})))})))},pe=function(){var e=Object(h.g)().pkg,t="".concat(y,"/data/pkgs/").concat(e,".json"),n=q(t,{}),a=Object.entries(n).reverse();return 0===a.length?r.a.createElement(ee,{label:"Loading...",variant:"info"}):r.a.createElement(he,{data:a,dataJSON:n,dataSource:t})},de=n(419),ge=n(89),be=n(420),Ee=n(421),fe=n(90),ve=n.n(fe),ke=function(e,t){var n=e.toLowerCase();return t.map((function(e){var t,a,r,l=e.toLowerCase();return l===n?t=0:l.includes(n)?t=1:(a=n,r=l,t=new ve.a(a,r).distance),[t,e]})).sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}))},xe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(ee,{label:"Loading...",variant:"info"}))),r.a.createElement("hr",null))},ye=function(e){var t=e.data,n=e.pkg,a=e.data[0][1],l="/pkg/".concat(encodeURIComponent(n));return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{xs:12,sm:6,md:4,lg:3},r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(m.b,{to:l},r.a.createElement(p.d,null)," ",n,n===a.meta.name?"":" (".concat(a.meta.name,")")))),r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},a.meta.description)),r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(de.a,{variant:"info"},t.length," version",t.length>=2?"s":""," available"))),r.a.createElement("br",null)))},we=function(e){var t=e.pkg,n="".concat(y,"/data/pkgs/").concat(t,".json"),a=q(n,{}),l=Object.entries(a).reverse();return 0===l.length?r.a.createElement(xe,null):r.a.createElement(ye,{data:l,pkg:t})},Se=function(e){var t=e.pkgs,n=Object(a.useState)(1),l=Object(H.a)(n,2),o=l[0],c=l[1],i=Object(a.useState)(ke("nix",t)),m=Object(H.a)(i,2),h=m[0],p=m[1],d=[Math.min(12*(o-0)+0,h.length),Math.min(12*(o-1)+1,h.length)],g=d[0],b=d[1],E=function(e){return function(){c(o+e)}},f=h.slice(b-1,g);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(te.a,null,r.a.createElement(te.a.Prepend,null,r.a.createElement(te.a.Text,null,"Package name")),r.a.createElement(ge.a,{defaultValue:"nix",onChange:function(e){c(1),p(ke(e.target.value,t))}})))),r.a.createElement("br",null),r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(be.a,{size:"md"},r.a.createElement(Ee.a,{disabled:1===o,onClick:E(-1),variant:"outline-primary"},"< Previous"),r.a.createElement(Ee.a,{disabled:!0,variant:"outline-primary"},"Page ",o),r.a.createElement(Ee.a,{disabled:12*o>h.length,onClick:E(1),variant:"outline-primary"},"Next >")))),r.a.createElement("hr",null),r.a.createElement(s.a,null,f.map((function(e){return r.a.createElement(we,{key:e,pkg:e})}))))},Oe=function(e){return 0===e.pkgs.length?r.a.createElement(ee,{label:"Loading...",variant:"info"}):r.a.createElement(Se,{pkgs:e.pkgs,revs:e.revs})},Ce=function(e){return r.a.createElement(c.a.Item,null,r.a.createElement(c.a.Link,{href:e.href},e.children))},je=function(){var e=q("".concat(y,"/data/pkgs.json"),[]),t=q("".concat(y,"/data/revs.json"),[]);return r.a.createElement(i.a,{fluid:!0},r.a.createElement(w,{href:"/nixpkgs-db",remote:!1},r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement("h1",null,"Nixpkgs Database!"),r.a.createElement("h2",{style:{fontSize:"1rem"}},"A database with packages at all versions, from all channels.")))),r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(c.a,{variant:"tabs"},r.a.createElement(Ce,null,r.a.createElement(m.b,{to:"/about"},r.a.createElement(p.g,null)," About")),r.a.createElement(Ce,null,r.a.createElement(m.b,{to:"/contributing"},r.a.createElement(p.a,null)," Contributing")),r.a.createElement(Ce,null,r.a.createElement(m.b,{to:"/search"},r.a.createElement(p.h,null)," Search")),r.a.createElement(Ce,null,r.a.createElement(m.b,{to:"/source"},r.a.createElement(p.b,null)," Source")),r.a.createElement(Ce,null,r.a.createElement(m.b,{to:"/sponsor"},r.a.createElement(p.f,null)," Sponsor"))))),r.a.createElement("br",null),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/about"},G(g.a)),r.a.createElement(h.b,{exact:!0,path:"/contributing"},G(E.a)),r.a.createElement(h.b,{exact:!0,path:"/pkg/:pkg"},r.a.createElement(pe,null)),r.a.createElement(h.b,{exact:!0,path:"/pkg/:pkg/:version"},r.a.createElement(pe,null)),r.a.createElement(h.b,{exact:!0,path:"/search"},r.a.createElement(Oe,{pkgs:e,revs:t})),r.a.createElement(h.b,{exact:!0,path:"/source"},G(v.a)),r.a.createElement(h.b,{exact:!0,path:"/sponsor"},G(x.a)),r.a.createElement(h.a,{to:"/search"}))),r.a.createElement("hr",null),r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement("div",{style:{color:"grey"}},"A total of ",e.length," packages and ",t.length," commits put in your hands! ",r.a.createElement("br",null),"Please help us improve by ",r.a.createElement(w,{href:"https://github.com/kamadorueda/nixpkgs-db/issues"},"reporting issues")," ",r.a.createElement(p.f,null)))),r.a.createElement("hr",null))};o.a.render(r.a.createElement(je,null),document.getElementById("root"))},74:function(e,t){e.exports='One of the advantages of **Nix** is the ability to install / use packages in\n**isolated environments** from the host system:\n\n```bash\n# Version installed in my host system\n$ python3 --version\n\n  Python 3.8.5\n\n# Launch a Nix Shell with a different version of the package\n$ nix-shell -p python39\n\n  # Version installed in the Nix shell\n  nix-shell $ python3 --version\n\n    Python 3.9.0\n```\n\nSometime ago while migrating an old **Kubernetes** cluster\nI found in the need of having two different versions of **Helm**\nin order to deal with **legacy** and **recent** deployments.\n\nThe solution is trivial: Use **Nix** to install the two versions!\n\nSo let\'s search the versions that Nix offers to us:\n\n```bash\n# Query the <nixpkgs> set in the host system\n$ nix-env -q --available --description | grep helm\n\n  helm-3.3.4  A package manager for kubernetes\n```\n\nProblem is that nix-channels usually offer a single version of a package,\nso \xbfWhat to do?\n\nSadly,\nthere is no native way of searching the Nix history for all versions of a package.\n\nGood thing is the community has come up with initiatives:\n\n- [Nixpkgs Database](/nixpkgs-db)\n- [Nix-package-revisions](https://lazamar.github.io/download-specific-package-version-with-nix)\n\nThat index the Nixpkgs history in order to provide versions lookups:\n\n```bash\nAttribute        Description                       Versions  License\nkubernetes-helm  A package manager for kubernetes  30        Apache License 2.0\n\n  kubernetes-helm v3.4.0\n  kubernetes-helm v3.1.1\n  kubernetes-helm v3.1.0\n  kubernetes-helm v3.0.3\n  kubernetes-helm v3.0.1\n  kubernetes-helm v2.9.1\n  kubernetes-helm v2.6.1\n  ...\n```\n\nThey even give you the command to install the package in your system!\n\n```bash\n# Helm is not even installed in my host system\n$ helm version\n\n  Command \'helm\' not found\n\n# Launch a Nix Shell with version 3.4.0 found in Nixpkgs Database\n$ nix-shell -p kubernetes-helm -I nixpkgs=https://github.com/NixOS/nixpkgs/archive/0126c86672b7d14843225df16ddfefd7091eabe7.tar.gz\n\n  # Version installed in the Nix shell\n  nix-shell $ helm version\n\n    version.BuildInfo{Version:"v3.4.0", GitCommit:"", GitTreeState:"", GoVersion:"go1.15.3"}\n\n# Launch a Nix Shell with version 2.6.1 found in Nixpkgs Database\n$ nix-shell -p kubernetes-helm -I nixpkgs=https://github.com/NixOS/nixpkgs/archive/01a664e7793158b434fefac9217ec48313b2dd45.tar.gz\n\n  # Version installed in the Nix shell\n  nix-shell $ helm version\n\n    Client: &version.Version{SemVer:"v2.6.1", GitCommit:"bbc1f71dc03afc5f00c6ac84b9308f8ecb4f39ac", GitTreeState:"clean"}\n```\n\nThis project is entirely **Free and Open Source Software**!\n\nYou can read more about the technical details [here](https://www.patreon.com/posts/creating-zero-43586691).\n\nAnd by the way, we welcome [contributions](/nixpkgs-db/#/contributing) :)\n'},75:function(e,t){e.exports="This site is run by the effort of the community,\nyou can be part of it!\n\nWe genuinely appreciate people who are trying to improve this database.\n\n**Contributing examples**\n\nThere are many ways to contribute, not necessarily technical:\n\n- Tell other people of the work being done here.\n- Star or fork the [repository](https://github.com/kamadorueda/nixpkgs-db),\n  this help us with funding and popularity.\n- ~~The search engine is naive (currently a `String.contains`).\n  It would be awesome to use a modern algorithm.~~.\n\n  Now we use a mix of Levenshtein distance with grep behavior!\n- Expanding the database size:\n\n  There are currently 280k+ commits in the nixpkgs repository,\n  we've only processed ~100k.\n\n  Expanding it is simple, though it consumes a little bit of machine resources:\n\n  - Clone the nixpkgs-db repository.\n  - Execute: `nixpkgs-db $ ./build/sync.sh`\n  - Commit your data folder and create a PR: `nixpkgs-db $ git add data/`\n\n  The process is differential, once a commit is processed it's ignored in future\n  executions.\n- Help us improve the user interface.\n- Help us write the [CLI](https://github.com/kamadorueda/nixpkgs-db/tree/latest/cli).\n- Fire up an issue! we welcome ideas, feature requests and problems.\n- [Become a sponsor of the project](/nixpkgs-db/#/sponsor).\n"},76:function(e,t){e.exports="This service is [Free and Open Source Software](https://en.wikipedia.org/wiki/FOSS)!\n\nThe source code is hosted at [Nixpkgs-db](https://github.com/kamadorueda/nixpkgs-db)  on GitHub.\n"},77:function(e,t){e.exports="This service was written with love!\n\nOne of the best ways to help me do more things like this is\n[sponsoring me on Patreon](https://www.patreon.com/kamadorueda).\n\nEvery penny you contribute goes to support more\n[FOSS](https://en.wikipedia.org/wiki/FOSS)\ncontributions and cool stuff for the community.\n\nYou'll get my eternal gratitude for it!\nand even if you do not, relax! there are other ways of [contributing](/nixpkgs-db/#/contributing).\n"}},[[414,1,2]]]);
//# sourceMappingURL=main.chunk.js.map